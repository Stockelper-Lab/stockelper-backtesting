# ===========================
# Stockelper Backtesting
# ===========================
#
# 사용 방법:
#   1) 이 파일을 `.env`로 복사한 뒤 값을 채우세요.
#   2) docker-compose 사용 시, compose는 자동으로 `.env`를 읽습니다.
#
# NOTE:
# - 결과 적재 DB(stockelper_web)와
# - 백테스트 입력 데이터 DB(가격/공시/지표)가
#   서로 다를 수 있습니다. (현재 구현은 분리 지원)
#

############################
# Server
############################
HOST=0.0.0.0
PORT=21007
DEBUG=false

############################
# Result DB (required)
# - public.backtesting 테이블(잡/결과/해석)을 저장하는 DB
############################
# 예) DATABASE_URL=postgresql://postgres:postgres@54.180.25.182:5432/stockelper_web
DATABASE_URL=postgresql://user:pass@host:5432/stockelper_web

# (선택) schema/table
STOCKELPER_WEB_SCHEMA=public
STOCKELPER_BACKTESTING_TABLE=backtesting

############################
# Source Data DB (required for real backtest)
# - 가격: daily_stock_price (symbol 컬럼)
# - 공시/지표: score_table_dart_idc (stock_code 컬럼)
############################
# 내부망 DB: 10.0.10.230:21002
DB_USER=stockelper
DB_PASSWORD=stockelper1!
DB_HOST=10.0.10.230
DB_PORT=21002
DB_NAME=postgres

############################
# Worker
############################
BACKTEST_WORKER_POLL_SECONDS=5
BACKTEST_RESULTS_DIR=outputs/backtesting_results

# 안전장치:
# - false면 대상 종목을 특정하지 않은 요청(=전체 유니버스 백테스트)을 차단합니다.
ALLOW_FULL_UNIVERSE=false

############################
# LLM post-processing (optional)
# - 백테스트 completed 직후 LLM 서버에 해석 생성을 요청합니다.
############################
# 예) STOCKELPER_LLM_URL=http://54.180.25.182:21009
STOCKELPER_LLM_URL=http://localhost:21009
BACKTEST_LLM_TRIGGER_TIMEOUT=10

